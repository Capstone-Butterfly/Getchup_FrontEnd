{"ast":null,"code":"import { onCloseMap as $dd149f63282afbbf$export$f6211563215e3b37 } from \"./useCloseOnScroll.mjs\";\nimport { useEffect as $gMvIk$useEffect } from \"react\";\nimport { useId as $gMvIk$useId } from \"@react-aria/utils\";\nfunction $628037886ba31236$export$f9d5c8beee7d008d(props, state, ref) {\n  let {\n    type: type\n  } = props;\n  let {\n    isOpen: isOpen\n  } = state;\n  (0, $gMvIk$useEffect)(() => {\n    if (ref && ref.current) (0, $dd149f63282afbbf$export$f6211563215e3b37).set(ref.current, state.close);\n  });\n  let ariaHasPopup = undefined;\n  if (type === 'menu') ariaHasPopup = true;else if (type === 'listbox') ariaHasPopup = 'listbox';\n  let overlayId = (0, $gMvIk$useId)();\n  return {\n    triggerProps: {\n      'aria-haspopup': ariaHasPopup,\n      'aria-expanded': isOpen,\n      'aria-controls': isOpen ? overlayId : null,\n      onPress: state.toggle\n    },\n    overlayProps: {\n      id: overlayId\n    }\n  };\n}\nexport { $628037886ba31236$export$f9d5c8beee7d008d as useOverlayTrigger };","map":{"version":3,"names":["$628037886ba31236$export$f9d5c8beee7d008d","props","state","ref","type","isOpen","$gMvIk$useEffect","current","$dd149f63282afbbf$export$f6211563215e3b37","set","close","ariaHasPopup","undefined","overlayId","$gMvIk$useId","triggerProps","onPress","toggle","overlayProps","id"],"sources":["/Users/farhang/Desktop/June 17 /Front/Getchup_FrontEnd/node_modules/@react-aria/overlays/dist/packages/@react-aria/overlays/src/useOverlayTrigger.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaButtonProps} from '@react-types/button';\nimport {DOMProps} from '@react-types/shared';\nimport {onCloseMap} from './useCloseOnScroll';\nimport {OverlayTriggerState} from '@react-stately/overlays';\nimport {RefObject, useEffect} from 'react';\nimport {useId} from '@react-aria/utils';\n\nexport interface OverlayTriggerProps {\n  /** Type of overlay that is opened by the trigger. */\n  type: 'dialog' | 'menu' | 'listbox' | 'tree' | 'grid'\n}\n\nexport interface OverlayTriggerAria {\n  /** Props for the trigger element. */\n  triggerProps: AriaButtonProps,\n\n  /** Props for the overlay container element. */\n  overlayProps: DOMProps\n}\n\n/**\n * Handles the behavior and accessibility for an overlay trigger, e.g. a button\n * that opens a popover, menu, or other overlay that is positioned relative to the trigger.\n */\nexport function useOverlayTrigger(props: OverlayTriggerProps, state: OverlayTriggerState, ref?: RefObject<Element>): OverlayTriggerAria {\n  let {type} = props;\n  let {isOpen} = state;\n\n  // Backward compatibility. Share state close function with useOverlayPosition so it can close on scroll\n  // without forcing users to pass onClose.\n  useEffect(() => {\n    if (ref && ref.current) {\n      onCloseMap.set(ref.current, state.close);\n    }\n  });\n\n  // Aria 1.1 supports multiple values for aria-haspopup other than just menus.\n  // https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup\n  // However, we only add it for menus for now because screen readers often\n  // announce it as a menu even for other values.\n  let ariaHasPopup = undefined;\n  if (type === 'menu') {\n    ariaHasPopup = true;\n  } else if (type === 'listbox') {\n    ariaHasPopup = 'listbox';\n  }\n\n  let overlayId = useId();\n  return {\n    triggerProps: {\n      'aria-haspopup': ariaHasPopup,\n      'aria-expanded': isOpen,\n      'aria-controls': isOpen ? overlayId : null,\n      onPress: state.toggle\n    },\n    overlayProps: {\n      id: overlayId\n    }\n  };\n}\n"],"mappings":";;;AAoCO,SAASA,0CAAkBC,KAA0B,EAAEC,KAA0B,EAAEC,GAAwB;EAChH,IAAI;IAAAC,IAAA,EAACA;EAAI,CAAC,GAAGH,KAAA;EACb,IAAI;IAAAI,MAAA,EAACA;EAAM,CAAC,GAAGH,KAAA;EAIf,IAAAI,gBAAQ,EAAE;IACR,IAAIH,GAAA,IAAOA,GAAA,CAAII,OAAO,EACpB,IAAAC,yCAAS,EAAEC,GAAG,CAACN,GAAA,CAAII,OAAO,EAAEL,KAAA,CAAMQ,KAAK;EAE3C;EAMA,IAAIC,YAAA,GAAeC,SAAA;EACnB,IAAIR,IAAA,KAAS,QACXO,YAAA,GAAe,UACV,IAAIP,IAAA,KAAS,WAClBO,YAAA,GAAe;EAGjB,IAAIE,SAAA,GAAY,IAAAC,YAAI;EACpB,OAAO;IACLC,YAAA,EAAc;MACZ,iBAAiBJ,YAAA;MACjB,iBAAiBN,MAAA;MACjB,iBAAiBA,MAAA,GAASQ,SAAA,GAAY;MACtCG,OAAA,EAASd,KAAA,CAAMe;IACjB;IACAC,YAAA,EAAc;MACZC,EAAA,EAAIN;IACN;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}