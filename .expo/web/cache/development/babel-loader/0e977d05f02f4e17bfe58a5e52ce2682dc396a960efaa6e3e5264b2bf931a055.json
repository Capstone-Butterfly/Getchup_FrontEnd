{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nconst _excluded = [\"style\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React, { useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nconst PortalContext = React.createContext(null);\nlet globalOverlayCounter = 0;\nexport function PortalProvider(props) {\n  const [items, setItems] = React.useState([]);\n  const setOverlayItem = element => {\n    const overlayId = ++globalOverlayCounter;\n    setItems(prev => prev.concat([{\n      id: overlayId,\n      node: element\n    }]));\n    return overlayId;\n  };\n  const updateOverlayItem = (id, node) => {\n    setItems(prev => {\n      const overlayItem = prev.find(item => item.id == id);\n      if (!overlayItem) {\n        return prev.concat([{\n          id: id,\n          node\n        }]);\n      } else {\n        return prev.map(item => {\n          if (item.id === id) {\n            return {\n              id,\n              node\n            };\n          }\n          return item;\n        });\n      }\n    });\n  };\n  const removeOverlayItem = id => {\n    setItems(prev => {\n      const newItems = prev.filter(item => item.id !== id);\n      return newItems;\n    });\n  };\n  return React.createElement(PortalContext.Provider, {\n    value: {\n      items,\n      setOverlayItem,\n      removeOverlayItem,\n      updateOverlayItem,\n      isSSR: props === null || props === void 0 ? void 0 : props.isSSR\n    }\n  }, props.children, items.map(item => {\n    return React.createElement(React.Fragment, {\n      key: item.id\n    }, item.node);\n  }));\n}\nfunction OverlayView(_ref) {\n  let {\n      style\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return React.createElement(View, _extends({\n    pointerEvents: \"box-none\",\n    style: [StyleSheet.absoluteFill, style],\n    collapsable: false\n  }, props));\n}\nexport const OverlayProvider = PortalProvider;\nexport function OverlayContainer(props) {\n  const context = usePortalProvider();\n  const overlayId = React.useRef(undefined);\n  const element = React.createElement(OverlayView, props);\n  useEffect(() => {\n    if (overlayId.current === undefined) {\n      overlayId.current = context === null || context === void 0 ? void 0 : context.setOverlayItem(element);\n    } else {\n      if (overlayId.current) {\n        context === null || context === void 0 || context.updateOverlayItem(overlayId.current, element);\n      }\n    }\n  }, [props]);\n  useEffect(() => {\n    return () => {\n      if (overlayId.current) {\n        context === null || context === void 0 || context.removeOverlayItem(overlayId.current);\n      }\n    };\n  }, []);\n  if (context !== null && context !== void 0 && context.isSSR && !overlayId.current) {\n    return React.createElement(View, {\n      style: {\n        display: 'none'\n      }\n    }, element);\n  }\n  return null;\n}\nfunction usePortalProvider() {\n  const context = React.useContext(PortalContext);\n  return context;\n}","map":{"version":3,"names":["React","useEffect","StyleSheet","View","PortalContext","createContext","globalOverlayCounter","PortalProvider","props","items","setItems","useState","setOverlayItem","element","overlayId","prev","concat","id","node","updateOverlayItem","overlayItem","find","item","map","removeOverlayItem","newItems","filter","createElement","Provider","value","isSSR","children","Fragment","key","OverlayView","_ref","style","_objectWithoutProperties","_excluded","_extends","pointerEvents","absoluteFill","collapsable","OverlayProvider","OverlayContainer","context","usePortalProvider","useRef","undefined","current","display","useContext"],"sources":["/Users/farhang/Desktop/June 17 /Front/Getchup_FrontEnd/node_modules/@react-native-aria/overlays/src/Portal.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport type { ReactNode } from 'react';\nimport { StyleSheet, View, ViewProps } from 'react-native';\n\ntype OverlayItem = {\n  id: number;\n  node: ReactNode;\n};\n\ninterface PortalContext {\n  items: Array<OverlayItem>;\n  setOverlayItem: (node: ReactNode) => number;\n  removeOverlayItem: (id: number) => void;\n  updateOverlayItem: (id: number, node: ReactNode) => void;\n  isSSR?: boolean;\n}\n\ninterface ModalProviderProps extends ViewProps {\n  children: ReactNode;\n  provider?: boolean;\n}\n\nconst PortalContext = React.createContext<PortalContext | null>(null);\n\nlet globalOverlayCounter = 0;\n\nexport function PortalProvider(props: {\n  children: ReactNode;\n  isSSR?: boolean;\n}) {\n  const [items, setItems] = React.useState<Array<OverlayItem>>([]);\n\n  const setOverlayItem = (element: ReactNode) => {\n    const overlayId = ++globalOverlayCounter;\n    setItems((prev) => prev.concat([{ id: overlayId, node: element }]));\n    return overlayId;\n  };\n\n  const updateOverlayItem = (id: number, node: ReactNode) => {\n    setItems((prev) => {\n      const overlayItem = prev.find((item) => item.id == id);\n      if (!overlayItem) {\n        return prev.concat([{ id: id, node }]);\n      } else {\n        return prev.map((item) => {\n          if (item.id === id) {\n            return { id, node };\n          }\n\n          return item;\n        });\n      }\n    });\n  };\n\n  const removeOverlayItem = (id: number) => {\n    setItems((prev) => {\n      const newItems = prev.filter((item) => item.id !== id);\n      return newItems;\n    });\n  };\n\n  return (\n    <PortalContext.Provider\n      value={{\n        items,\n        setOverlayItem,\n        removeOverlayItem,\n        updateOverlayItem,\n        isSSR: props?.isSSR,\n      }}\n    >\n      {props.children}\n\n      {/* Render Overlays */}\n      {items.map((item) => {\n        return <React.Fragment key={item.id}>{item.node}</React.Fragment>;\n      })}\n    </PortalContext.Provider>\n  );\n}\n\nfunction OverlayView({ style, ...props }: ModalProviderProps) {\n  return (\n    <View\n      pointerEvents=\"box-none\"\n      style={[StyleSheet.absoluteFill, style]}\n      collapsable={false}\n      {...props}\n    />\n  );\n}\n\nexport const OverlayProvider = PortalProvider;\n\nexport function OverlayContainer(props: ModalProviderProps) {\n  const context = usePortalProvider();\n  const overlayId = React.useRef<number | undefined>(undefined);\n  const element = <OverlayView {...props} />;\n\n  useEffect(\n    () => {\n      // Mount\n      if (overlayId.current === undefined) {\n        overlayId.current = context?.setOverlayItem(element);\n      }\n      // Update\n      else {\n        if (overlayId.current) {\n          context?.updateOverlayItem(overlayId.current, element);\n        }\n      }\n    },\n    // To re-render the child\n    [props]\n  );\n\n  // Unmount\n  useEffect(() => {\n    return () => {\n      if (overlayId.current) {\n        context?.removeOverlayItem(overlayId.current);\n      }\n    };\n  }, []);\n\n  // Rendering elements for SSR\n  if (context?.isSSR && !overlayId.current) {\n    return <View style={{ display: 'none' }}>{element}</View>;\n  }\n  return null;\n}\n\nfunction usePortalProvider() {\n  const context = React.useContext(PortalContext);\n  return context;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}